# Environment variables for Fabric CI/CD
# Copy this file to .env and fill in your values

# -----------------------------------------------------------------------------
# 1. Azure Configuration (Required)
# -----------------------------------------------------------------------------
# Service Principal Details for Fabric API Access
AZURE_CLIENT_ID=your_client_id
AZURE_CLIENT_SECRET=your_client_secret
AZURE_TENANT_ID=your_tenant_id
AZURE_SUBSCRIPTION_ID=your_subscription_id

# -----------------------------------------------------------------------------
# 2. Fabric Configuration (Required)
# -----------------------------------------------------------------------------
# Fabric Capacity ID (Get from Fabric Admin Portal -> Capacity Settings)
FABRIC_CAPACITY_ID=your_capacity_id (e.g., F64 or Trial ID)

# Optional: Separate capacities for Test/Prod (defaults to FABRIC_CAPACITY_ID)
# TEST_CAPACITY_ID=
# PROD_CAPACITY_ID=

# Deployment Pipeline name (auto-derived from org/project if not set)
# FABRIC_PIPELINE_NAME=

# Domain (Optional: e.g. "Sales", "Finance". Leave empty if unused)
FABRIC_DOMAIN_NAME=

# -----------------------------------------------------------------------------
# 3. Automation & Integration (Required)
# -----------------------------------------------------------------------------
# GitHub Personal Access Token (PAT) for Git integration
GITHUB_TOKEN=ghp_your_token_here

# Git Repo URL (Used by onboarding scripts)
GIT_REPO_URL=https://github.com/your-org/your-repo.git

# Automation Service Principal (Usually same as AZURE_CLIENT_ID)
AUTOMATION_SP_ID=your_sp_object_id

# -----------------------------------------------------------------------------
# 4. Global Principal Mappings (Required for Blueprints)
# -----------------------------------------------------------------------------
# These generic variables map to specific group/user OIDs in your organization
# They are injected into blueprints (e.g., via ${ADDITIONAL_ADMIN_PRINCIPAL_ID})
ADDITIONAL_ADMIN_PRINCIPAL_ID=your_admin_group_oid
ADDITIONAL_CONTRIBUTOR_PRINCIPAL_ID=your_contributor_group_oid

# -----------------------------------------------------------------------------
# 5. Environment-Specific Principals (Required)
# -----------------------------------------------------------------------------
# Development Environment
DEV_ADMIN_EMAIL=admin@example.com
DEV_ADMIN_OBJECT_ID=your_dev_admin_oid
DEV_MEMBERS_OBJECT_ID=oid1,oid2,oid3 (comma-separated list of member OIDs)

# Staging Environment (Optional)
STAGING_ADMIN_EMAIL=staging-admin@example.com
STAGING_QA_GROUP_ID=staging_qa_group_oid

# Production Environment (Optional)
PROD_ADMIN_EMAIL=prod-admin@example.com
PROD_VIEWERS_GROUP_ID=prod_viewers_group_oid
PROD_AUTOMATION_SP_ID=prod_sp_oid

# -----------------------------------------------------------------------------
# 6. Advanced / Optional Settings
# -----------------------------------------------------------------------------
# Azure Key Vault (Validation Waterfall: Env Vars -> .env -> Key Vault)
# AZURE_KEYVAULT_URL=https://your-kv.vault.azure.net/

# Application Settings
LOG_LEVEL=INFO
AUDIT_LOG_DIR=audit_logs
ORGANIZATION_NAME=your_org_name

# -----------------------------------------------------------------------------
# 7. Template Validation Placeholders (Used by generic templates)
# -----------------------------------------------------------------------------
TEMPLATE_USER_EMAIL=user@example.com
TEMPLATE_GROUP_ID=group_oid
TEMPLATE_SP_ID=sp_oid
TEMPLATE_DS_TEAM_OID=ds_team_oid
TEMPLATE_LEAD_DS_OID=lead_ds_oid
